setwd("C:/Users/Jackie/Documents/GitHub/ungentry/inputdata/censusacsdata/Census1990_Boston/")
file1 <- read.delim("90data_norfolk.txt", skip = 1, header = T)
file2 <- read.delim("R10716313_SL140.txt", skip = 1, header = T)
file3 <- read.delim("R10732357_SL140.txt", skip = 1, header= T)
mergefile <- merge(file2[, c(7, 11:ncol(file2))],
file3[, c(1, 71:129)],
by = "Geo_FIPS",
all = TRUE)
rbind.match.columns <- function(input1, input2) {
n.input1 <- ncol(input1)
n.input2 <- ncol(input2)
if (n.input2 < n.input1) {
TF.names <- which(names(input2) %in% names(input1))
column.names <- names(input2[, TF.names])
} else {
TF.names <- which(names(input1) %in% names(input2))
column.names <- names(input1[, TF.names])
}
return(rbind(input1[, column.names], input2[, column.names]))
}
mergefile2 <- rbind.match.columns(mergefile, file1[, c(7, 11:ncol(file1))])
mergefile3 <- merge(mergefile2,
mergefile[, c(1, which(!(colnames(mergefile) %in%
colnames(mergefile2))))],
by = "Geo_FIPS",
all.x = TRUE)
names(mergefile3)
names(file1)
names(file1)[which(grepl("^SE_*", names(file1)]
names(file1)[which(grepl("^SE_*", names(file1))]
names(file1)[which(grepl("^SE_*", names(file1)))]
?grep
names(file1) <- gsub("SE_", "", names(file1))
names(file1)
names(file1) <- gsub("STF3_", "", names(file1))
names(file1)
setwd("C:/Users/Jackie/Documents/GitHub/ungentry/inputdata/censusacsdata/Census1990_Boston/")
file1 <- read.delim("90data_norfolk.txt", skip = 1, header = T)
names(file1) <- gsub("SE_", "", names(file1))
names(file1) <- gsub("STF3_", "", names(file1))
file2 <- read.delim("R10716313_SL140.txt", skip = 1, header = T)
names(file2) <- gsub("SE_", "", names(file2))
names(file2) <- gsub("STF3_", "", names(file2))
file3 <- read.delim("R10732357_SL140.txt", skip = 1, header= T)
names(file3) <- gsub("SE_", "", names(file3))
names(file3) <- gsub("STF3_", "", names(file3))
mergefile <- merge(file2[, c(7, 11:ncol(file2))],
file3[, c(1, 71:129)],
by = "Geo_FIPS",
all = TRUE)
rbind.match.columns <- function(input1, input2) {
n.input1 <- ncol(input1)
n.input2 <- ncol(input2)
if (n.input2 < n.input1) {
TF.names <- which(names(input2) %in% names(input1))
column.names <- names(input2[, TF.names])
} else {
TF.names <- which(names(input1) %in% names(input2))
column.names <- names(input1[, TF.names])
}
return(rbind(input1[, column.names], input2[, column.names]))
}
mergefile2 <- rbind.match.columns(mergefile, file1[, c(7, 11:ncol(file1))])
mergefile3 <- merge(mergefile2,
mergefile[, c(1, which(!(colnames(mergefile) %in%
colnames(mergefile2))))],
by = "Geo_FIPS",
all.x = TRUE)
head(mergefile3)
head(mergefile3)
write.table(mergefile3, "census90_alldata.txt", sep = "\t", row.names = FALSE)
head(mergefile3$Geo_FIPS)
setwd("C:/Users/Jackie/Documents/GitHub/ungentry/inputdata/censusacsdata/Census2000_Boston/")
file1 <- read.delim("2000census_norfolk.txt", skip = 1, header = T)
names(file1) <- gsub("SE_", "", names(file1))
names(file1) <- gsub("STF3_", "", names(file1))
file2 <- read.delim("R10716314_SL140.txt", skip = 1, header = T)
names(file2) <- gsub("SE_", "", names(file2))
names(file2) <- gsub("STF3_", "", names(file2))
file3 <- read.delim("R10732419_SL140.txt", skip = 1, header= T)
names(file3) <- gsub("SE_", "", names(file3))
names(file4) <- gsub("SE_", "", names(file4))
names(file3) <- gsub("STF3_", "", names(file3))
file4 <- read.delim("R10756852_SL140.txt", skip = 1, header= T)
names(file4) <- gsub("STF3_", "", names(file4))
file5 <- read.delim("R10758867_SL140_norfolk.txt", skip = 1, header= T)
names(file5) <- gsub("SE_", "", names(file5))
names(file5) <- gsub("STF3_", "", names(file5))
mergefile <- merge(file2[, c(7, 11:ncol(file2))],
