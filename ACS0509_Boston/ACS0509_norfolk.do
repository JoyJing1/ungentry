/* 
* TODO: 1. Place the .txt data file and the dictionary file you downloaded in the work folder, or enter the full path to these files!
*       2. You may have to increase memory using the 'set mem' statement. It is commented out in the code bellow.
*
* If you have any questions or need assistance contact info@socialexplorer.com.
*/
clear
cd "C:\Users\Jackie\Documents\GitHub\ungentry\ACS0509_Boston"
///set mem 512m
set more off
infile using "ACS0509_norfolk.dct", using("ACS0509_norfolk.txt")
gen tractid00 = STATE + COUNTY + TRACT
order tractid00, before(FIPS)
drop FIPS

rename T001_001 totalpop
rename T018_001 households
rename PCT_T018_002 pcthhchild
gen pctcollege = PCT_T025_005 + PCT_T025_006 + PCT_T025_007 + PCT_T025_008
rename PCT_T049_008 pctind_info
rename PCT_T049_009 pctind_finance
rename PCT_T049_010 pctind_professional
gen pctocc_profmanage = PCT_T050_002 + PCT_T050_003
rename PCT_T056_002 pctinc_0_10K
rename PCT_T056_003 pctinc_10K_15K
rename PCT_T056_004 pctinc_15K_20K
rename PCT_T056_005 pctinc_20K_25K
rename PCT_T056_006 pctinc_25K_30K
rename PCT_T056_007 pctinc_30K_35K
rename PCT_T056_008 pctinc_35K_40K
rename PCT_T056_009 pctinc_40K_45K
rename PCT_T056_010 pctinc_45K_50K
rename PCT_T056_011 pctinc_50K_60K
rename PCT_T056_012 pctinc_60K_75K
rename PCT_T056_013 pctinc_75K_100K
rename PCT_T056_014 pctinc_100K_125K
rename PCT_T056_015 pctinc_125K_150K
gen pctinc_150K_more = PCT_T056_016 + PCT_T056_017
rename T057_001 medhhincome
rename PCT_T080_003 pctpublicassist
rename T093_001 units
rename PCT_T094_002 pctown
rename PCT_T094_003 pctrent
rename PCT_T095_003 pctvacant
rename T101_001 medianvalue
rename PCT_T102_002 pctrent_0_300
rename PCT_T102_003 pctrent_300_600
rename PCT_T102_004 pctrent_600_800
rename PCT_T102_005 pctrent_800_1000
rename PCT_T102_006 pctrent_1000_1250
rename PCT_T102_007 pctrent_1250_1500
rename PCT_T102_008 pctrent_1500_2000
rename PCT_T102_009 pctrent_2000_more
gen pctincomerent_30_more = PCT_T103_004 + PCT_T103_005
rename T104_001 medianrent
rename T105_001 medianpctincomerent
rename PCT_T110_003 pctinc_mortgage_30_more
rename PCT_T111_003 pctinc_nomortgage_30_more
gen pctpoverty =( ( T114_002 + T115_002 + T116_002) / ( T114_001 + T115_001 + T116_001)) * 100
rename PCT_T130_002 pctsameres
gen pctunits_newres_2005 = ((B25026003 + B25026010) / ( B25026002 + B25026009))*100
gen pctunits_newres_2000 = ((B25026003 + B25026004 + B25026010 + B25026011) / ( B25026002 + B25026009))*100
order pctocc_profmanage, after( pctind_professional)
order pctcollege, after( pctocc_profmanage)
order pctpoverty, after( medhhincome)
order pctincomerent_30_more, after( medianrent)
order pctinc_150K_more, after( pctinc_125K_150K)

drop GEOID NAME QName STUSAB SUMLEV GEOCOMP FILEID LOGRECNO US REGION DIVISION 
drop STATECE STATE COUNTY COUSUB PLACE PLACESE TRACT BLKGRP CONCIT 
drop AIANHH AIANHHFP AIHHTLI AITSCE AITS ANRC CBSA CSA METDIV MACC MEMI NECTA CNECTA NECTADIV 
drop UA UACP CDCURR SLDU SLDL VTD ZCTA3 ZCTA5 SUBMCD SDELM SDSEC SDUNI UR PCI TAZ UGA PUMA5 PUMA1
drop T018_002 T018_003 T018_004 T018_005 T018_006 T018_007 T018_008 T018_009 T018_010 
drop T018_011 T018_012 T018_013 T018_014 T018_015 T018_016 T018_017 T018_018 T018_019
drop PCT_T018_003 PCT_T018_004 PCT_T018_005 PCT_T018_006 PCT_T018_007 PCT_T018_008 PCT_T018_009 PCT_T018_010 
drop PCT_T018_011 PCT_T018_012 PCT_T018_013 PCT_T018_014 PCT_T018_015 PCT_T018_016 PCT_T018_017 PCT_T018_018 PCT_T018_019
drop T025_001 T025_002 T025_003 T025_004 T025_005 T025_006 T025_007 T025_008
drop PCT_T025_002 PCT_T025_003 PCT_T025_004 PCT_T025_005 PCT_T025_006 PCT_T025_007 PCT_T025_008
drop T049_001 T049_002 T049_003 T049_004 T049_005 T049_006 T049_007 T049_008 T049_009 T049_010
drop T049_011 T049_012 T049_013 T049_014
drop PCT_T049_002 PCT_T049_003 PCT_T049_004 PCT_T049_005 PCT_T049_006 PCT_T049_007
drop PCT_T049_011 PCT_T049_012 PCT_T049_013 PCT_T049_014
drop T050_001 T050_002 T050_003 T050_004 T050_005 T050_006 T050_007 T050_008 T050_009 T050_010
drop T050_011 T050_012 T050_013 T050_014
drop PCT_T050_002 PCT_T050_003 PCT_T050_004 PCT_T050_005 PCT_T050_006 PCT_T050_007 PCT_T050_008 PCT_T050_009 PCT_T050_010
drop PCT_T050_011 PCT_T050_012 PCT_T050_013 PCT_T050_014
drop T056_001 T056_002 T056_003 T056_004 T056_005 T056_006 T056_007 T056_008 T056_009 T056_010
drop T056_011 T056_012 T056_013 T056_014 T056_015 T056_016 T056_017
drop PCT_T056_016 PCT_T056_017 T080_001 T080_002 T080_003 PCT_T080_002
drop T094_001 T094_002 T094_003 T095_001 T095_002 T095_003 PCT_T095_002
drop T102_001 T102_002 T102_003 T102_004 T102_005 T102_006 T102_007 T102_008 T102_009
drop T103_001 T103_002 T103_003 T103_004 T103_005 T103_006
drop PCT_T103_002 PCT_T103_003 PCT_T103_004 PCT_T103_005 PCT_T103_006
drop T110_001 T110_002 T110_003 T110_004 T110_005
drop PCT_T110_002 PCT_T110_004 PCT_T110_005
drop T111_001 T111_002 T111_003 T111_004 T111_005
drop PCT_T111_002 PCT_T111_004 PCT_T111_005
drop T114_001 T114_002 T114_003 PCT_T114_002 PCT_T114_003
drop T115_001 T115_002 T115_003 PCT_T115_002 PCT_T115_003
drop T116_001 T116_002 T116_003 PCT_T116_002 PCT_T116_003
drop T130_001 T130_002 T130_003 T130_004 T130_005 T130_006
drop PCT_T130_003 PCT_T130_004 PCT_T130_005 PCT_T130_006
drop B25026001 B25026002 B25026003 B25026004 B25026005 B25026006 B25026007 B25026008 B25026009 B25026010
drop B25026011 B25026012 B25026013 B25026014 B25026015
drop B25026001s B25026002s B25026003s B25026004s B25026005s B25026006s B25026007s B25026008s B25026009s B25026010s 
drop B25026011s B25026012s B25026013s B25026014s B25026015s
drop PCT_B25026002 PCT_B25026003 PCT_B25026004 PCT_B25026005 PCT_B25026006 PCT_B25026007 PCT_B25026008 PCT_B25026009 PCT_B25026010 
drop PCT_B25026011 PCT_B25026012 PCT_B25026013 PCT_B25026014 PCT_B25026015

save "C:\Users\Jackie\Documents\GitHub\ungentry\ACS0509_Boston\ACS0509_Boston_norfolk.dta", replace
